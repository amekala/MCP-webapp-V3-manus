# Vercel Configuration for Edge Functions

[build]
  command = "npm run build"
  functions = "supabase/functions"

[functions]
  node_bundler = "esbuild"
  external_node_modules = ["@supabase/supabase-js"]

[[redirects]]
  from = "/api/*"
  to = "/.netlify/functions/:splat"
  status = 200

[build.environment]
  NODE_VERSION = "18"

# Environment variables for edge functions
[build.environment.edge_functions]
  SUPABASE_URL = "https://hzhzejqyjotckrntykxc.supabase.co"
  SUPABASE_SERVICE_ROLE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh6aHplanF5am90Y2tybnR5a3hjIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0MTk2MTU0NCwiZXhwIjoyMDU3NTM3NTQ0fQ.PSE1CLJjkMm1qnCWdUvvuBe8z3Z2_B5upfKoP1ZUPGM"
  AMAZON_CLIENT_ID = "amzn1.application-oa2-client.44ed4eff7d964255af8760e45f33be05"
  AMAZON_CLIENT_SECRET = "amzn1.oa2-cs.v1.3aecd63ae9f31d55098245dba6994865c1b656200c51b36e8a0de19a8bd590e5"
  AMAZON_REDIRECT_URI = "https://v0-ads-connect-project.vercel.app/auth-callback"
